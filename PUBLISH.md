# å‘å¸ƒåˆ° npmjs.com æŒ‡å—

## ğŸ“¦ åŒ…ä¿¡æ¯

- **åŒ…å**: `@baklib/baklib-mcp-server`
- **å½“å‰ç‰ˆæœ¬**: `0.0.4`
- **ä½œç”¨åŸŸ**: `@baklib` (éœ€è¦ npm è´¦å·æœ‰è¯¥ä½œç”¨åŸŸçš„å‘å¸ƒæƒé™)

## ğŸ”‘ å‰ç½®æ¡ä»¶

### 1. åˆ›å»º npm è´¦å·

å¦‚æœæ²¡æœ‰ npm è´¦å·ï¼Œè¯·è®¿é—® https://www.npmjs.com/signup æ³¨å†Œã€‚

### 2. åˆ›å»ºæˆ–åŠ å…¥ @baklib ç»„ç»‡

ç”±äºåŒ…åä½¿ç”¨äº†ä½œç”¨åŸŸ `@baklib`ï¼Œä½ éœ€è¦ï¼š

1. **åˆ›å»ºç»„ç»‡**ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰ï¼š
   - è®¿é—® https://www.npmjs.com/org/create
   - åˆ›å»º `@baklib` ç»„ç»‡
   - é€‰æ‹©å…è´¹è®¡åˆ’ï¼ˆPublic packagesï¼‰

2. **æˆ–è€…åŠ å…¥ç°æœ‰ç»„ç»‡**ï¼š
   - å¦‚æœç»„ç»‡å·²å­˜åœ¨ï¼Œéœ€è¦ç»„ç»‡ç®¡ç†å‘˜é‚€è¯·ä½ åŠ å…¥

### 3. ç™»å½• npm

```bash
npm login
```

è¾“å…¥ä½ çš„ npm ç”¨æˆ·åã€å¯†ç å’Œé‚®ç®±ã€‚

## ğŸ“ å‘å¸ƒæ­¥éª¤

### æ­¥éª¤ 0: æœ¬åœ°æµ‹è¯•ï¼ˆå¿…é¡»ï¼‰

**âš ï¸ é‡è¦**ï¼šå‘å¸ƒå‰å¿…é¡»è¿›è¡Œæœ¬åœ°æµ‹è¯•ï¼Œç¡®ä¿åŒ…å¯ä»¥æ­£å¸¸å·¥ä½œã€‚

```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•
./test-local.sh
```

æµ‹è¯•é€šè¿‡åï¼Œæ‰èƒ½ç»§ç»­å‘å¸ƒã€‚å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œè¯·ä¿®å¤é—®é¢˜åå†å‘å¸ƒã€‚

### æ­¥éª¤ 1: æ£€æŸ¥é…ç½®

ç¡®ä¿ `package.json` ä¸­çš„ä¿¡æ¯æ­£ç¡®ï¼š

```json
{
  "name": "@baklib/baklib-mcp-server",
  "version": "0.0.4",
  "description": "...",
  "author": "Baklib",
  "license": "MIT"
}
```

### æ­¥éª¤ 2: æ£€æŸ¥è¦å‘å¸ƒçš„æ–‡ä»¶

è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å“ªäº›æ–‡ä»¶ä¼šè¢«å‘å¸ƒï¼š

```bash
npm pack --dry-run
```

è¿™ä¼šæ˜¾ç¤ºå°†è¦æ‰“åŒ…çš„æ–‡ä»¶åˆ—è¡¨ï¼Œç¡®ä¿æ²¡æœ‰åŒ…å«ä¸å¿…è¦çš„æ–‡ä»¶ï¼ˆæµ‹è¯•æ–‡ä»¶ã€ä¸´æ—¶æ–‡ä»¶ç­‰ï¼‰ã€‚

### æ­¥éª¤ 3: éªŒè¯åŒ…å†…å®¹

```bash
npm pack
```

è¿™ä¼šåˆ›å»ºä¸€ä¸ª `.tgz` æ–‡ä»¶ï¼Œä½ å¯ä»¥è§£å‹æŸ¥çœ‹å†…å®¹ï¼š

```bash
tar -xzf @baklib-baklib-mcp-server-0.0.4.tgz
cd package
ls -la
```

### æ­¥éª¤ 4: å‘å¸ƒåˆ° npm

#### é¦–æ¬¡å‘å¸ƒ

```bash
npm publish --access public
```

**æ³¨æ„**: ä½œç”¨åŸŸåŒ…ï¼ˆscoped packagesï¼‰é»˜è®¤æ˜¯ç§æœ‰çš„ï¼Œéœ€è¦ä½¿ç”¨ `--access public` å‚æ•°å‘å¸ƒä¸ºå…¬å¼€åŒ…ã€‚

#### åç»­ç‰ˆæœ¬æ›´æ–°

1. **æ›´æ–°ç‰ˆæœ¬å·**ï¼ˆä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰ï¼š
   ```bash
   # è¡¥ä¸ç‰ˆæœ¬ï¼ˆbug ä¿®å¤ï¼‰
   npm version patch
   
   # æ¬¡è¦ç‰ˆæœ¬ï¼ˆæ–°åŠŸèƒ½ï¼‰
   npm version minor
   
   # ä¸»è¦ç‰ˆæœ¬ï¼ˆé‡å¤§å˜æ›´ï¼‰
   npm version major
   ```

2. **å‘å¸ƒ**ï¼š
   ```bash
   npm publish
   ```

### æ­¥éª¤ 5: éªŒè¯å‘å¸ƒ

å‘å¸ƒæˆåŠŸåï¼Œè®¿é—®ä»¥ä¸‹ URL æŸ¥çœ‹ä½ çš„åŒ…ï¼š

```
https://www.npmjs.com/package/@baklib/baklib-mcp-server
```

## ğŸ”„ ç‰ˆæœ¬ç®¡ç†

### è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼‰

- **ä¸»ç‰ˆæœ¬å·ï¼ˆMajorï¼‰**: ä¸å…¼å®¹çš„ API ä¿®æ”¹
- **æ¬¡ç‰ˆæœ¬å·ï¼ˆMinorï¼‰**: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- **ä¿®è®¢å·ï¼ˆPatchï¼‰**: å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

### ç‰ˆæœ¬æ›´æ–°ç¤ºä¾‹

```bash
# å½“å‰ç‰ˆæœ¬: 0.0.4

# ä¿®å¤ bug
npm version patch  # -> 0.0.2

# æ·»åŠ æ–°åŠŸèƒ½
npm version minor  # -> 1.1.0

# é‡å¤§å˜æ›´
npm version major  # -> 2.0.0
```

## ğŸ“‹ å‘å¸ƒæ£€æŸ¥æ¸…å•

å‘å¸ƒå‰è¯·ç¡®è®¤ï¼š

- [ ] **æœ¬åœ°æµ‹è¯•é€šè¿‡**ï¼šè¿è¡Œ `./test-local.sh` æ‰€æœ‰æµ‹è¯•é€šè¿‡ âœ…ï¼ˆæœ€é‡è¦ï¼‰
- [ ] `package.json` ä¸­çš„ä¿¡æ¯æ­£ç¡®ï¼ˆåç§°ã€ç‰ˆæœ¬ã€æè¿°ç­‰ï¼‰
- [ ] æ‰€æœ‰ä¾èµ–éƒ½å·²æ­£ç¡®å£°æ˜ï¼ˆåŒ…æ‹¬ `zod`ï¼‰
- [ ] README.md å†…å®¹å®Œæ•´ä¸”å‡†ç¡®
- [ ] ä»£ç å·²é€šè¿‡æµ‹è¯•
- [ ] `.npmignore` å·²é…ç½®ï¼Œæ’é™¤ä¸å¿…è¦çš„æ–‡ä»¶
- [ ] `npm pack --dry-run` æ˜¾ç¤ºæ­£ç¡®çš„æ–‡ä»¶
- [ ] å·²ç™»å½• npm (`npm whoami` éªŒè¯)
- [ ] æœ‰ `@baklib` ç»„ç»‡çš„å‘å¸ƒæƒé™
- [ ] ç‰ˆæœ¬å·å·²æ›´æ–°ï¼ˆå¦‚æœä¸æ˜¯é¦–æ¬¡å‘å¸ƒï¼‰
- [ ] `index.js` ä¸­çš„ç‰ˆæœ¬å·å·²åŒæ­¥æ›´æ–°

## ğŸš¨ å¸¸è§é—®é¢˜

### 1. æƒé™é”™è¯¯

**é”™è¯¯**: `npm ERR! code E403` æˆ– `npm ERR! 403 You do not have permission`

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®è®¤å·²ç™»å½•æ­£ç¡®çš„ npm è´¦å·
- ç¡®è®¤æœ‰ `@baklib` ç»„ç»‡çš„å‘å¸ƒæƒé™
- å¦‚æœæ˜¯é¦–æ¬¡å‘å¸ƒä½œç”¨åŸŸåŒ…ï¼Œä½¿ç”¨ `npm publish --access public`

### 2. åŒ…åå·²å­˜åœ¨

**é”™è¯¯**: `npm ERR! code E403` - Package name already exists

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥åŒ…åæ˜¯å¦æ­£ç¡®
- å¦‚æœæ˜¯æ›´æ–°ç‰ˆæœ¬ï¼Œç¡®ä¿ç‰ˆæœ¬å·å·²æ›´æ–°

### 3. ç‰ˆæœ¬å·²å­˜åœ¨

**é”™è¯¯**: `npm ERR! code E403` - Version already exists

**è§£å†³æ–¹æ¡ˆ**:
- ä½¿ç”¨ `npm version patch/minor/major` æ›´æ–°ç‰ˆæœ¬å·
- æˆ–æ‰‹åŠ¨ä¿®æ”¹ `package.json` ä¸­çš„ç‰ˆæœ¬å·

## ğŸ“š ç›¸å…³èµ„æº

- [npm å‘å¸ƒæ–‡æ¡£](https://docs.npmjs.com/packages-and-modules/contributing-packages-to-the-registry)
- [ä½œç”¨åŸŸåŒ…æ–‡æ¡£](https://docs.npmjs.com/about-scopes)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/)

## ğŸ¯ å¿«é€Ÿå‘å¸ƒå‘½ä»¤

```bash
# 1. ç™»å½•
npm login

# 2. æ£€æŸ¥é…ç½®
npm pack --dry-run

# 3. é¦–æ¬¡å‘å¸ƒ
npm publish --access public

# 4. åç»­æ›´æ–°ï¼ˆæ›´æ–°ç‰ˆæœ¬åï¼‰
npm version patch && npm publish
```

